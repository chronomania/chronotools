<html><head><meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
 <title>Chrono Trigger translation development system</title>
 <style type="text/css"><!--
TABLE.toc {border:0px}
A:link,A:visited{text-decoration:none;color:#2A3B83}
A:hover{text-decoration:underline;color:#002040}
A:active{text-decoration:underline;color:#004060;background:#CCD8FF}
TD.toc   {font-size:80%; font-family:Tahoma; text-align:left}
H1       {font-size:250%; font-weight:bold} .level1 {text-align:center}
H2       {font-size:200%; font-weight:bold} .level2 {margin-left:1%}
H3       {font-size:160%; font-weight:bold} .level3 {margin-left:2%}
H4       {font-size:145%; font-weight:bold} .level4 {margin-left:3%}
H5       {font-size:130%; font-weight:bold} .level5 {margin-left:4%}
H6       {font-size:110%; font-weight:bold} .level5 {margin-left:5%}
BODY{background:white;color:black}
CODE{font-family:lucida console,courier new,courier;color:#105000}
PRE.smallerpre{font-family:lucida console,courier new,courier;font-size:80%;color:#500010;margin-left:30px}
SMALL    {font-size:70%}
--></style></head>
 <body>
  <h1>Chrono Trigger translation development system</h1>
  <h2 class=level2> 0. Contents </h2>
  
  This is the documentation of chronotools-1.1.11.
<div class=toc><table cellspacing=0 cellpadding=0 class=toc><tr><td width="50%" valign=middle align=left nowrap class=toc>&nbsp;&nbsp;&nbsp;1. <a href="#h0">Purpose</a><br>&nbsp;&nbsp;&nbsp;2. <a href="#h1">Program list</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.1. <a href="#h2">ctdump</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2. <a href="#h3">ctinsert</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3. <a href="#h4">other</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.1. <a href="#h5">makeips</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.2. <a href="#h6">unmakeips</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.3. <a href="#h7">xray</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.4. <a href="#h8">viewer</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.5. <a href="#h9">spacefind</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.6. <a href="#h10">taipus.rb</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.7. <a href="#h11">sramdump</a><br></td>
<td width="50%" valign=middle align=left nowrap class=toc>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.3.8. <a href="#h12">base62</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.4. <a href="#h13">Technical report</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.4.1. <a href="#h14">Item/technique/monster names</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.4.2. <a href="#h15">Name conjugation</a><br>&nbsp;&nbsp;&nbsp;3. <a href="#h16">Useful features</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.1. <a href="#conj">Name conjugation</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.2. <a href="#h17">Font/dictionary skew</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.3. <a href="#h18">Automatic paragraph wrapping</a><br>&nbsp;&nbsp;&nbsp;4. <a href="#h19">Copying</a><br>&nbsp;&nbsp;&nbsp;5. <a href="#h20">Requirements</a><br>&nbsp;&nbsp;&nbsp;6. <a href="#h21">Changelog</a><br>&nbsp;&nbsp;&nbsp;7. <a href="#h22">See also</a><br>&nbsp;&nbsp;&nbsp;8. <a href="#download">Downloading</a><br></td>
</tr></table></div><H2 class="level2"><a name="h0"></a>1. Purpose</H2><div class="level2">

Tools aiding in
<a href="http://bisqwit.iki.fi/ctfin/">Bisqwit's Finnish Chrono Trigger translation</a>.
<p>
Meant to be useful for anyone who wants to become
a translator for Chrono Trigger and translate the
game to their own language.

</div><H2 class="level2"><a name="h1"></a>2. Program list</H2><div class="level2">

</div><H3 class="level3"><a name="h2"></a>2.1. ctdump</H3><div class="level3">

<img src="http://bisqwit.iki.fi/src/chronotools-bat.png"
     align=right alt="sample" style="padding-right:10px" >

Dumps the script and fonts from a given ROM.<br>
Requires <code>chrono-dumpee.smc</code>.<br>
Produces <code>ct_eng.txt</code>,
<code>ct8fn.tga</code> and <code>ct16fn.tga</code>.
<p>
Sample of produced script:<pre class=smallerpre
>;Battle tutorials, Zeal stuff, party stuff
*z;39 pointerstrings (12pix font)
$HSs4:
Taistelun aikana jokaisen iskun teho vaihtelee iskun mukaan.
$HSs6:
Ensinnäkin, voit iskeä myös useampaa, kuin
   yhtä vihollista kerralla.
$HSs8:
Voit esimerkiksi tähdätä tätä hirviötä...</pre>
(Dumped from
<a href="http://hallucinat.ionstream.fi/teemu/engine.html?page=13"
>inf's Finnish Chrono Trigger translation</a>).

</div><H3 class="level3"><a name="h3"></a>2.2. ctinsert</H3><div class="level3">

Reinserts the (edited) script and (edited) fonts to a ROM.<br>
Requires <code>ct.txt</code>,
<code>ct8fn.tga</code> and <code>ct16fn.tga</code>.<br>
Produces <code>ctpatch-hdr.ips</code>
and <code>ctpatch-nohdr.ips</code>.<br>
Curiously, it doesn't require the ROM.

</div><H3 class="level3"><a name="h4"></a>2.3. other</H3><div class="level3">

</div><H4 class="level4"><a name="h5"></a>2.3.1. makeips</H4><div class="level4">

<a href="/src/makeips.cc">makeips</a>
compares two ROMs and produces a patch file in IPS format.

</div><H4 class="level4"><a name="h6"></a>2.3.2. unmakeips</H4><div class="level4">

<a href="/src/unmakeips.cc">unmakeips</a>
reads a ROM and an IPS file and produces a patched ROM file.

</div><H4 class="level4"><a name="h7"></a>2.3.3. xray</H4><div class="level4">

xray is a libggi-requiring application
for browsing the ROM contents.

</div><H4 class="level4"><a name="h8"></a>2.3.4. viewer</H4><div class="level4">

viewer requires S-Lang and is a textmode ROM browser
originally developed by me for Pokémon hacking.

</div><H4 class="level4"><a name="h9"></a>2.3.5. spacefind</H4><div class="level4">

A <a href="/source/jaa3.html">bin-packing</a> algorithm test.

</div><H4 class="level4"><a name="h10"></a>2.3.6. taipus.rb</H4><div class="level4">

This one is <a href="/ctfin/taipus.rb">publicly available</a>.
It conjugates names in Finnish.<br>It has now been
<a href="/ctfin/ct-code.txt">translated</a> to
SNES assembly (or sort of).<br>It works. :)

</div><H4 class="level4"><a name="h11"></a>2.3.7. sramdump</H4><div class="level4">

Views a sram dump file in a readable format.

</div><H4 class="level4"><a name="h12"></a>2.3.8. base62</H4><div class="level4">

Converts addresses between hex and base62 formats.
I.e. $C2:5D4C -> 0eJI and vice versa.<br>
This development system uses base62 in the script
dumps to reduce the amount of code written.

</div><H3 class="level3"><a name="h13"></a>2.4. Technical report</H3><div class="level3">

My goal is to make a complete Finnish translation of Chrono Trigger.
<p>
The project currently depends on solving the following problems.  
<p>
These problems are simply waiting for somebody to study the
skills needed to solve them (SNES assembly for starters).<br>
There is no lack of translators (or material to be translated).
<p>
If you are a proficient SNES hacker and want to help me with these
problems, please contact me.<br>My email-address (sigh) is:
<em>bisqwit a<b style="font-weight:lighter">t i</b>ki <small>dot</small> fi</em>

</div><H4 class="level4"><a name="h14"></a>2.4.1. Item/technique/monster names</H4><div class="level4">

Item and technique names are limited to 10 characters
(restriction is enforced by both the screen layout and the ROM space).<br>
This is way too little for Finnish, which has long words.<br>   
Solution A: Leave the item names and technique names untranslated.<br>
This is not a considerable solution for me.<br>
Solution B: Move the names to a different location in ROM so that
there is no space limit. But: They still don't fit on screen.<br>
Solution C: Add code using <a href="ct8f.png">variable width 8x8 font</a>
and rewrite the method the item names are looked up.
This means <em>lots of work</em>.

</div><H4 class="level4"><a name="h15"></a>2.4.2. Name conjugation</H4><div class="level4">

<a href="ct-code.txt">
<img src="/kala/snap/ctdevel/ct-taipus2.png" alt="It works!" align=right>
</a>  
Finnish is a language where words are conjugated.
Just adding a substring like "'s" doesn't make
correct language. The whole word stem changes a bit.<br>
Solution A: Ignore the problem. But: This is crude. I don't want it.<br>
Solution B: Add <a href="taipus.rb">code that conjugates the names</a>.
This means <em>lots of work</em>. 30.6.2003 I did it! It works.
<br><a href="#conj">See below.</a>

</div><H2 class="level2"><a name="h16"></a>3. Useful features</H2><div class="level2">

</div><H3 class="level3"><a name="conj"></a>3.1. Name conjugation</H3><div class="level3">

It currently has support for conjugating names on fly.<br>
It's very important in Finnish, where you can't just
add "'s" to anything to make a genitive.<br>
For example, genitive of name Matti is "Matin",
and genitive of name Crono is "Cronon".<br>
The conjugator-engine is a textual script file
translated to 65c816 assembly on demand.

</div><H3 class="level3"><a name="h17"></a>3.2. Font/dictionary skew</H3><div class="level3">

In the script code, there are different 223 bytes available for the script.
<p>
In normal Chrono Trigger,
<ul>
 <li>127 of them are assigned to the dictionary used to compress the script.</li>
 <li>96 of them are
     <a href="/src/chronotools-16en.png">visible symbols</a>.</li>
</ul>
Which means that you can only have 96 different characters.
Take A-Z, a-z, 0-9 and punctuation symbols and count how
many you have left for umlauts and accents.
<p>
My insertor however allows to skew that ratio so
that the dictionary may be smaller and font bigger.
<p>
However, shrinking the dictionary means that the script
compresses worse, and could probably not fit in the ROM.<br>
It might still be a lifesaver for someone
doing an Estonian or Portuguese translation.
<p>
If you are translating to a language that utilizes <em>lots</em> of
different symbols, like Chinese, you might want to try to base on the
Japanese version instead. This utility pack bases on the
English version.<br>
(Sorry, I can't help you with the Japanese ROM.)

</div><H3 class="level3"><a name="h18"></a>3.3. Automatic paragraph wrapping</H3><div class="level3">

The program takes automatically care of proper line
lengths, so you don't have to risk running into unexpected
too-long-lines or making too short lines in paranoia.<br>
You can force line breaks, but you don't have to.

</div><H2 class="level2"><a name="h19"></a>4. Copying</H2><div class="level2">

If you're interested, throw me email.<br>
But <em>read the <a href="/ctfin/">translation project page</a> first</em>!
<p>
My email-address (sigh) is:
<em>bisqwit a<b style="font-weight:lighter">t i</b>ki <small>dot</small> fi</em>
</p>
I'm not publishing files on this web page, because it's a well-known fact
that many people in ROM hacking scene aren't very respectful to copyrights.

</div><H2 class="level2"><a name="h20"></a>5. Requirements</H2><div class="level2">

A POSIX compatible system (like Linux or FreeBSD)
with GNU tools (GNU make, GCC etc) is required.<br>
These programs are archived as C++ source code only.
<p>
I don't have a microsoft-operating system here on my hand,
so if you are an unfortunate user stuck with some Windows,
you just have to find a development system
(<a href="http://www.google.com/search?q=cygwin">cygwin</a>?)
and compile the program on it to use it.
<p>
I'll soon try if I can get windows-binaries out with mingw32.
Currently it has problems with iconv.

</div><H2 class="level2"><a name="h21"></a>6. Changelog</H2><div class="level2">

Copypaste from the Makefile:

<pre class=smallerpre
># VERSION 1.0.3  was the first working! :D
# VERSION 1.0.4  handled fixed strings too
# VERSION 1.0.5  found item descriptions
# VERSION 1.0.6  compressed better
# VERSION 1.0.7  compressed more carefully
# VERSION 1.0.8  documented the script
# VERSION 1.0.9  fixed "..." handling and located the font
# VERSION 1.0.10 had knowledge of character sets
# VERSION 1.0.11 had a working font insertor
# VERSION 1.0.12 had better knowledge of special codes
# VERSION 1.0.13 used 62-base numbers
# VERSION 1.0.14 added taipus.cc
# VERSION 1.0.15 updated FIN/README and ct_fin.txt, but neither are archived
# VERSION 1.0.16 added taipus.rb, fixed homepage urls and fixed mmap error checking.
# VERSION 1.0.17 working again; uses space better; little modularized
# VERSION 1.0.18 more of above
# VERSION 1.0.19 code organising... improved 'i' in 8x8 font.
# VERSION 1.0.20 binpacker changes, some translation done too
# VERSION 1.0.21 more translation, some documentation, font palette changes.
# VERSION 1.0.22 more translation, autowrapping support, conjugation detection code
# VERSION 1.1.0  did some assembly hacking, support for code patching
# VERSION 1.1.1  conjugating conjugating conjugating... work goes on
# VERSION 1.1.2  and so on
# VERSION 1.1.3  and so on... almost working! "case" still doesn't work.
# VERSION 1.1.4  conjugating finally works!
# VERSION 1.1.5  some bugfixes
# VERSION 1.1.6  fixed an allocation bug and optimized the code generator a bit
# VERSION 1.1.7  some translation, more asm changes
# VERSION 1.1.8  syntax changes in the compiler, optimizations
# VERSION 1.1.9  support for font/dictionary size skew
</pre>

</div><H2 class="level2"><a name="h22"></a>7. See also</H2><div class="level2">

<ul>
 <li><a href="http://bisqwit.iki.fi/ctfin/">Bisqwit's Finnish Chrono Trigger translation project</a>
  (uses these tools)</li>
 <li><a href="http://bisqwit.iki.fi/jutut/ctcset.html">Chrono Trigger character set and encoding explained</a>
  (publicly available information that these tools base on)</li>
</ul>

</div><H2 class="level2"><a name="download"></a>8. Downloading</H2><div class="level2">
   The official home page of chronotools
   is at <a href="http://iki.fi/bisqwit/source/chronotools.html">http://iki.fi/bisqwit/source/chronotools.html</a>.<br>
   Check there for new versions.
</div> <p align=right><small>Generated from
       <code>progdesc.php</code> (last updated: Fri,  4 Jul 2003 14:25:38 +0300)<br>
  with <code>docmaker.php</code> (last updated: Thu, 13 Feb 2003 15:11:29 +0200)<br>
  at Fri,  4 Jul 2003 20:20:35 +0300</small>
 </p>
</body>
</html>
